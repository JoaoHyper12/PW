<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Loja - 2K Basquete</title>
  <link rel="stylesheet" href="loja.css" />

</head>
<body>

  <header class="header">
    <div class="logo">
      <img src="Imagens/Logótipo.png" alt="2K Basquete">
      <span class="logo-subtitle">BASQUETE</span>
    </div>

    <nav class="navigation">
      <ul>
        <li><a href="Página Inicial.html">Página Inicial</a></li>
        <li><a href="loja.html" class="active">Loja</a></li>
        <li><a href="Contato.html">Contato</a></li>
        <li><a href="#">Webgrafia</a></li>
      </ul>
    </nav>

    <div class="icons">
      <img src="Imagens/Avatar.png" alt="Perfil" class="icon">
      <img src="Imagens/CestaCompras.png" alt="Carrinho" class="icon">
    </div>
  </header>

  <main class="shop-page">
    <h1>Todos os Produtos</h1>

    <div class="content">
      <!-- Filtro lateral -->
      <aside class="filter">
        <h3>Filtrar</h3>
        <hr>
        <div class="filter-group">
          <strong>Categoria</strong>
          <ul>
            <li><a href="#" onclick="filtrarPorCategoria('Todos')">Todos</a></li>
            <li><a href="#" onclick="filtrarPorCategoria('Camisas')">Camisas</a></li>
            <li><a href="#" onclick="filtrarPorCategoria('Sapatilhas')">Sapatilhas</a></li>
            <li><a href="#" onclick="filtrarPorCategoria('Cestos')">Cestos</a></li>
            <li><a href="#" onclick="filtrarPorCategoria('Bolas')">Bolas</a></li>
          </ul>
        </div>
      </aside>

      <!-- Lista de produtos (será preenchida pelo JavaScript) -->
      <section class="product-list">
        <!-- Os produtos aparecerão aqui dinamicamente -->
      </section>
    </div>
  </main>

  <script>
    // Função para carregar e filtrar produtos
    function carregarProdutos(categoria = 'Todos') {
      fetch('produtos.json')
        .then(response => response.json())
        .then(produtos => {
          const productList = document.querySelector('.product-list');
          productList.innerHTML = '';

          // Filtrar produtos se necessário
          const produtosExibidos = categoria === 'Todos' 
            ? produtos 
            : produtos.filter(p => p.categoria === categoria);

          // Adicionar cada produto à lista
          produtosExibidos.forEach(produto => {
            const productDiv = document.createElement('div');
            productDiv.className = 'product';
            productDiv.innerHTML = `
              <a href="Bucks.html?id=${produto.id}">
                <img src="${produto.imagem}" alt="${produto.nome}">
                <h3>${produto.nome}</h3>
                <p class="price">€${produto.preco_desconto.toFixed(2)} <del>€${produto.preco_original.toFixed(2)}</del></p>
              </a>
            `;
            productList.appendChild(productDiv);
          });
        })
        .catch(error => console.error('Erro ao carregar produtos:', error));
    }

    // Função de filtro
    function filtrarPorCategoria(categoria) {
      carregarProdutos(categoria);
    }

    // Carregar produtos quando a página carregar
    document.addEventListener('DOMContentLoaded', () => {
      carregarProdutos();
    });
  </script>

</body>
</html>