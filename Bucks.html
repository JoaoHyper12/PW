<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Detalhes do Produto - 2K Basquete</title>
  <link rel="stylesheet" href="Bucks.css" />
  
</head>
<body>

  <header class="header">
    <div class="logo">
      <img src="Imagens/Logótipo.png" alt="2K Basquete">
      <span class="logo-subtitle">BASQUETE</span>
    </div>

    <nav class="navigation">
      <ul>
        <li><a href="Página Inicial.html">Página Inicial</a></li>
        <li><a href="loja.html">Loja</a></li>
        <li><a href="Contato.html">Contato</a></li>
        <li><a href="#">Webgrafia</a></li>
      </ul>
    </nav>

    <div class="icons">
      <img src="Imagens/Avatar.png" alt="Perfil" class="icon">
      <img src="Imagens/CestaCompras.png" alt="Carrinho" class="icon">
    </div>
  </header>

  <!-- Seta de voltar -->
  <a href="javascript:history.back()" class="voltar-link">
    <img src="Imagens/Seta-voltar.png" alt="Voltar" class="seta-voltar">
  </a>

  <!-- Página do Produto -->
  <main class="product-page">
    <div class="product-image">
      <img src="" alt="" id="produto-imagem">
    </div>
    <div class="product-details">
      <h1 id="produto-nome"></h1>
      <p class="price"><del id="preco-original"></del> <strong id="preco-desconto"></strong></p>
      <p class="description" id="produto-descricao"></p>
      <div class="quantity-selector">
        <label for="qty">Quantidade *</label><br>
        <button class="qty-btn" id="decrease">-</button>
        <input type="number" id="qty" value="1" min="1">
        <button class="qty-btn" id="increase">+</button>
      </div>
      <div class="buttons">
        <button class="btn-cart">Adicionar ao carrinho</button>
        <button class="btn-buy">Comprar</button>
      </div>
    </div>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Carregar detalhes do produto
      const urlParams = new URLSearchParams(window.location.search);
      const produtoId = urlParams.get('id');

      if (produtoId) {
        fetch('produtos.json')
          .then(response => response.json())
          .then(produtos => {
            const produto = produtos.find(p => p.id == produtoId);
            
            if (produto) {
              document.title = produto.nome + " - 2K Basquete";
              document.getElementById('produto-imagem').src = produto.imagem;
              document.getElementById('produto-imagem').alt = produto.nome;
              document.getElementById('produto-nome').textContent = produto.nome;
              document.getElementById('preco-original').textContent = `€${produto.preco_original.toFixed(2)}`;
              document.getElementById('preco-desconto').textContent = `€${produto.preco_desconto.toFixed(2)}`;
              document.getElementById('produto-descricao').textContent = produto.descricao;
            }
          })
          .catch(error => console.error('Erro ao carregar produto:', error));
      }

      // Controle de quantidade
      const decreaseBtn = document.getElementById('decrease');
      const increaseBtn = document.getElementById('increase');
      const quantityInput = document.getElementById('qty');
      
      decreaseBtn.addEventListener('click', function() {
        let currentValue = parseInt(quantityInput.value);
        if (currentValue > 1) {
          quantityInput.value = currentValue - 1;
        }
      });
      
      increaseBtn.addEventListener('click', function() {
        let currentValue = parseInt(quantityInput.value);
        quantityInput.value = currentValue + 1;
      });

      // Adicionar ao carrinho (simulação)
      document.querySelector('.btn-cart').addEventListener('click', function() {
        const quantidade = parseInt(document.getElementById('qty').value);
        alert(`Adicionado ao carrinho: ${quantidade}x ${document.getElementById('produto-nome').textContent}`);
      });
    });
  </script>

</body>
</html>